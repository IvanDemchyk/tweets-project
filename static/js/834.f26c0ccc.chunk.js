"use strict";(self.webpackChunktweets_project=self.webpackChunktweets_project||[]).push([[834],{834:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var r=n(433),a=n(165),c=n(861),u=n(439),s=n(184),o=function(t){var e=t.onClick;return(0,s.jsx)("button",{onClick:e,children:"Load More"})},i=n(683),l=n(791),f=n(243);f.Z.defaults.baseURL="https://64316fd8d4518cfb0e6169d4.mockapi.io/";var p=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(){var e,n,r=arguments;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,t.next=3,f.Z.get("users?page=".concat(e,"&limit=4"));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.Z.put("users/".concat(e),n);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=function(t){var e=t.user,n=(0,l.useState)(e.following),r=(0,u.Z)(n,2),o=r[0],f=r[1],p=(0,l.useState)(e.followers),d=(0,u.Z)(p,2),h=d[0],Z=d[1];(0,l.useEffect)((function(){var t=localStorage.getItem("user-".concat(e.id));t&&f(JSON.parse(t))}),[e.id]),(0,l.useEffect)((function(){localStorage.setItem("user-".concat(e.id),o)}),[o,e.id]);var x,w=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(n,r){var c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=(0,i.Z)((0,i.Z)({},e),{},{followers:r,following:n}),t.next=4,v(e.id,c);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),k=e.avatar,j=e.tweets;return(0,s.jsxs)("li",{children:[(0,s.jsx)("img",{src:k,alt:e}),(0,s.jsxs)("p",{children:[j," TWEETS"]}),(0,s.jsxs)("p",{children:[(x=h,new Intl.NumberFormat("en-UK").format(x))," FOLLOWERS"]}),(0,s.jsx)("button",{isfollowing:o.toString(),onClick:function(){var t=!o,e=t?h+1:h-1;f(t),Z(e),w(t,e)},children:o?"Following":"Follow"})]})},h=function(t){var e=t.users;return(0,s.jsx)("ul",{children:e.map((function(t){return(0,s.jsx)(d,{user:t},t.id)}))})},Z=n(689),x=n(87),w=1,k=function(){var t,e,n=(0,l.useState)([]),i=(0,u.Z)(n,2),f=i[0],v=i[1],d=(0,l.useState)(null),k=(0,u.Z)(d,2),j=k[0],m=k[1],g=(0,l.useState)(!1),b=(0,u.Z)(g,2),S=b[0],C=b[1],E=(0,Z.TH)(),y=null!==(t=null===E||void 0===E||null===(e=E.state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/";(0,l.useEffect)((function(){C(!0);var t=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p();case 3:e=t.sent,v(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),m(t.t0);case 10:return t.prev=10,C(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var L=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(w+=1);case 3:e=t.sent,v((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e))})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),m(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return(0,s.jsxs)("div",{children:[(0,s.jsx)(x.rU,{to:y,children:"Back"}),S&&"Loading...",j&&(0,s.jsx)("div",{children:j}),f&&(0,s.jsx)(h,{users:f}),(0,s.jsx)(o,{onClick:L})]})}}}]);
//# sourceMappingURL=834.f26c0ccc.chunk.js.map