{"version":3,"file":"static/js/834.f26c0ccc.chunk.js","mappings":"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","sources":["components/LoadButton/LoadButton.jsx","services/tweets-api.js","components/TweetItem/TweetItem.jsx","services/number-format.js","components/TweetsList/TweetsList.jsx","pages/Tweets.jsx"],"sourcesContent":["export const LoadButton = ({ onClick }) => {\r\n  return <button onClick={onClick}>Load More</button>;\r\n};\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://64316fd8d4518cfb0e6169d4.mockapi.io/\";\r\n\r\nexport const getUsers = async (page = 1) => {\r\n  const response = await axios.get(`users?page=${page}&limit=4`);\r\n  return response.data;\r\n};\r\n\r\nexport const followTweet = async (id, body) => {\r\n  const response = await axios.put(`users/${id}`, body);\r\n  return response.data;\r\n};\r\n\r\nexport const updateUser = async (id) => {\r\n  const response = await axios.get(`users/${id}`);\r\n  return response.data;\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { NumberFormat } from \"services/number-format\";\r\nimport { followTweet } from \"services/tweets-api\";\r\n\r\nexport const TweetItem = ({ user }) => {\r\n  const [isFollowing, setIsFollowing] = useState(user.following);\r\n  const [followers, setFollowers] = useState(user.followers);\r\n\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(`user-${user.id}`);\r\n    if (stored) {\r\n      setIsFollowing(JSON.parse(stored));\r\n    }\r\n  }, [user.id]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(`user-${user.id}`, isFollowing);\r\n  }, [isFollowing, user.id]);\r\n\r\n  const updateTweet = async (toggleFollowing, toggleFollowers) => {\r\n    try {\r\n      const update = {\r\n        ...user,\r\n        followers: toggleFollowers,\r\n        following: toggleFollowing,\r\n      };\r\n      await followTweet(user.id, update);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const toggleButton = () => {\r\n    const toggleFollowing = !isFollowing;\r\n    const toggleFollowers = toggleFollowing ? followers + 1 : followers - 1;\r\n\r\n    setIsFollowing(toggleFollowing);\r\n    setFollowers(toggleFollowers);\r\n    updateTweet(toggleFollowing, toggleFollowers);\r\n  };\r\n\r\n  const { avatar, tweets } = user;\r\n\r\n  return (\r\n    <li>\r\n      <img src={avatar} alt={user} />\r\n      <p>{tweets} TWEETS</p>\r\n      <p>{NumberFormat(followers)} FOLLOWERS</p>\r\n      <button isfollowing={isFollowing.toString()} onClick={toggleButton}>\r\n        {isFollowing ? \"Following\" : \"Follow\"}\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n","export const NumberFormat = (number) => {\r\n  return new Intl.NumberFormat(\"en-UK\").format(number);\r\n};\r\n","import { TweetItem } from \"components/TweetItem/TweetItem\";\r\n\r\nexport const TweetsList = ({ users }) => {\r\n  return (\r\n    <ul>\r\n      {users.map((user) => (\r\n        <TweetItem key={user.id} user={user} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n","import { LoadButton } from \"components/LoadButton/LoadButton\";\r\nimport { TweetsList } from \"components/TweetsList/TweetsList\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\n\r\nimport { getUsers } from \"services/tweets-api\";\r\n\r\nlet page = 1;\r\n\r\nconst Tweets = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const location = useLocation();\r\n  const backLink = location?.state?.from ?? \"/\";\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const result = await getUsers();\r\n        setUsers(result);\r\n      } catch (error) {\r\n        setError(error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const getMoreUsers = async () => {\r\n    try {\r\n      const users = await getUsers((page += 1));\r\n      setUsers((prev) => [...prev, ...users]);\r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Link to={backLink}>Back</Link>\r\n      {isLoading && \"Loading...\"}\r\n      {error && <div>{error}</div>}\r\n      {users && <TweetsList users={users} />}\r\n      <LoadButton onClick={getMoreUsers} />\r\n    </div>\r\n  );\r\n};\r\nexport default Tweets;\r\n"],"names":["LoadButton","_ref","onClick","_jsx","children","axios","getUsers","_asyncToGenerator","_regeneratorRuntime","mark","_callee","page","response","_args","arguments","wrap","_context","prev","next","length","undefined","concat","sent","abrupt","data","stop","apply","followTweet","_ref2","_callee2","id","body","_context2","_x","_x2","TweetItem","user","_useState","useState","following","_useState2","_slicedToArray","isFollowing","setIsFollowing","_useState3","followers","_useState4","setFollowers","useEffect","stored","localStorage","getItem","JSON","parse","setItem","number","updateTweet","toggleFollowing","toggleFollowers","update","_objectSpread","t0","console","log","avatar","tweets","_jsxs","src","alt","Intl","NumberFormat","format","isfollowing","toString","TweetsList","users","map","_location$state$from","_location$state","setUsers","error","setError","_useState5","_useState6","isLoading","setIsLoading","location","useLocation","backLink","state","from","fetchUsers","result","finish","getMoreUsers","_users","_toConsumableArray","Link","to"],"sourceRoot":""}